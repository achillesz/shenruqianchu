"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _path = require("path");

var _path2 = _interopRequireDefault(_path);

var _fs = require("fs");

var _fs2 = _interopRequireDefault(_fs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// 创建所有目录
function mkdirs(dirpath, callback) {
    _fs2.default.exists(dirpath, function (exists) {
        if (exists) {
            callback(dirpath);
        } else {
            //尝试创建父目录，然后再创建当前目录
            mkdirs(_path2.default.dirname(dirpath), function () {
                _fs2.default.mkdir(dirpath, callback);
            });
        }
    });
};

mkdirs.sync = function (dirpath) {
    if (_fs2.default.existsSync(dirpath)) {
        return true;
    } else {
        if (mkdirs.sync(_path2.default.dirname(dirpath))) {
            _fs2.default.mkdirSync(dirpath);
            return true;
        }
    }
};

exports.default = mkdirs;